---
description: 
globs: 
alwaysApply: false
---
# GTAâ€¯VÂ â€“ Cursor Rules for ScriptHookVDotNetÂ 3 Modding

## 1. Standard SHVDNÂ 3Â + LemonUI Boilerplate

### Overview

1. Cible **.NETâ€¯FrameworkÂ 4.8** (`net48`).
2. RÃ©fÃ©rence uniquement **ScriptHookVDotNetÂ 3.x** et **LemonUI.SHVDN3**.
3. Toute classe principale dÃ©rive de `Script` et branche les Ã©vÃ©nements `Tick`, `KeyDown`, `KeyUp`.
4. **Jamais** de blocage : pas de `Thread.Sleep`, pas de boucles infinies avec `Wait(0)`.
5. Une seule instance dâ€™`ObjectPool` traitÃ©e **une fois par frame** via `_pool.Process()`.

### ğŸš¨ Critical Instructions for AI Language Models ğŸš¨

**Ne gÃ©nÃ¨re jamais** les schÃ©mas suivants, ils gÃ¨lent ou plantent le jeuÂ :

```csharp
// âŒ INTERDIT
Thread.Sleep(â€¦);
while (true) { Wait(0); }
Script.Wait(â€¦) dans le constructeur
Function.Call(0x12345678, â€¦); // hash brut
GTA.UI.ShowSubtitle("â€¦");      // UI obsolÃ¨te
using ScriptHookVDotNet;        // versionÂ 2
```

**Toujours** partir de ce patronÂ :

```csharp
// âœ… BOILERPLATE DE RÃ‰FÃ‰RENCE
using GTA;
using GTA.Native;
using GTA.Math;
using LemonUI;
using LemonUI.Menus;
using System.Windows.Forms;
using System.Threading.Tasks;

public class TODO_ModName : Script
{
    private readonly ObjectPool _pool = new ObjectPool();
    private readonly NativeMenu _mainMenu = new NativeMenu("TODO", "MAIN MENU");

    public TODO_ModName()
    {
        Tick    += OnTick;
        KeyDown += OnKeyDown;
        _pool.Add(_mainMenu);
    }

    private void OnTick(object sender, System.EventArgs e)
    {
        _pool.Process();
    }

    private void OnKeyDown(object sender, KeyEventArgs e)
    {
        if (e.KeyCode == Keys.F3)
            _mainMenu.Visible = !_mainMenu.Visible;
    }
}
```

### Absolute Requirements

1. `net48`, SHVDNÂ 3.x, LemonUI.SHVDN3 uniquement.
2. Utiliser lâ€™Ã©num `Keys` (pas de codes clavier bruts).
3. Aucune attente bloquante.
4. Appel unique de `_pool.Process()` par frame.
5. Les calculs lourds se font avec `Task.Run` + `await`.
6. Lâ€™IA doit **toujours** se rÃ©fÃ©rer Ã  la documentation fournie par lâ€™utilisateur avant de gÃ©nÃ©rer du codeâ€¯; **la source de rÃ©fÃ©rence pour lâ€™API est [https://shvdn-doc.vercel.app/api/](https://shvdn-doc.vercel.app/api/) et doit Ãªtre consultÃ©e en prioritÃ© plutÃ´t que dâ€™effectuer des recherches externes.**

### AIÂ Model Verification Steps

* La classe dÃ©rive-tâ€‘elle de `Script`Â ?
* Seuls les namespaces SHVDNÂ 3 sontâ€‘ils importÃ©sÂ ?
* PaisibleÂ : aucun `Thread.Sleep`, aucune boucle infinie, aucun hash brutÂ ?
* `_pool.Process()` estâ€‘il appelÃ© une seule foisÂ ?

### Consequences of Incorrect Implementation

Boucles infinies, SHVDNÂ v2 ou hashes brutsÂ â‡’ freeze, crash ou chargement impossible.

### AIÂ Model Response Template


> Commence toujours par le boilerplate ciâ€‘dessus, nâ€™utilise jamais les approches obsolÃ¨tes, vÃ©rifie la checklist avant de rÃ©pondre.